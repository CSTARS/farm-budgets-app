<dom-module id="ahb-interval-selector">
  <style>
    :host {
      white-space: nowrap;
      display:inline-block;
    }
    input[type="number"] {
      width: 50px;
    }
    input, select {
      background-color: white;
      color: orange;
    }

  </style>

  <template>
    <select on-change="onSelectChange" value="{{interval::change}}" style="display:inline-block; width:auto">
      <option value="One Time">One Time</option>
      <option value="Annual">Annual</option>
      <option value="Monthly">Monthly</option>
      <option value="__ Per Year">__ Per Year</option>
      <option value="Once Every __ Years">Once Every __ Years</option>
    </select>

    <input type="number" style="display:none" id="numInput" value="{{intervalAmount::change}}"/>
  </template>
</dom-module>

<script>
  Polymer({
    is : 'ahb-interval-selector',

    properties : {
      interval : {
        type : String,
        notify : true
      },
      intervalAmount : {
        type : Number,
        notify : true
      }
    },

    ready : function() {
      this.interval = 'One Time';
      this.intervalAmount = 1;
    },

    onSelectChange : function(e) {
      var val = e.currentTarget.value;
      if( val == '__ Per Year' || val == 'Once Every __ Years') {
        this.$.numInput.style.display = 'inline-block';
      } else {
        this.$.numInput.style.display = 'none';
      }
    }
  })
</script>
