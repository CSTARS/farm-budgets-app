<dom-module id="budget-item-macro">
  <style>
    :host {
      display: block
    }
  </style>
  <template>
    <div class="form-inline">

      <div class="form-group">
        <select on-input="onTypeUpdate">
          <option value="global">Global</option>
          <option value="new">New</option>
        </select>
      </div>

      <div class="form-group" id="namePanel">
        <label for="nameInput">Name</label>
        <input type="text" id="nameInput" class="form-control" />
      </div>

      <div class="form-group">
        <label for="priceInput">Price</label>
        <div class="input-group">
          <span class="input-group-addon">$</span>
          <input type="number" id="priceInput" class="form-control" />
        </div>
      </div>

      <div class="form-group">
        <label for="unitsInput">Units</label>
        <input type="text" id="unitsInput" class="form-control" />
      </div>

      <div class="form-group">
        <label for="amountInput">Amount</label>
        <input type="number" id="amountInput" class="form-control" />
      </div>

    </div>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'budget-item-macro',

    ready : function() {
      this.data = {
        type : 'new'
      }
    },

    update : function() {
      if( this.data.type == 'custom' ) {
        this.$.namePanel.style.display = 'none';
        this.$.priceInput.setAttribute('disabled', 'disabled');
        this.$.unitsInput.setAttribute('disabled', 'disabled');
      } else {
        this.$.namePanel.style.display = 'block';
        this.$.priceInput.removeAttribute('disabled');
        this.$.unitsInput.removeAttribute('disabled');
      }
    }
  })
</script>
