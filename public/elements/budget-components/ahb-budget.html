<dom-module id="ahb-budget">
  <template>
    <budget-sections id="sections"></budget-sections>
  </template>
</dom-module>

<script>
  Polymer({
    is : 'ahb-budget',

    properties : {
      example : {
        type : String
      }
    },

    attached : function() {
      this.demo();
    },

    demo : function() {
      var appData = FB.transform(FB.examples[this.example]);
      window.appData = appData;

      var options = {
        noEvent : true,
        noRecalc : true
      }

      appData.materials.forEach(function(material){
        FB.materialController.add(material, options);
      });

      FB.materialController.recalc();

      appData.operations.forEach(function(operation){
        FB.operationController.add(operation, options);
      });

      FB.operationController.recalc();

      this.$.sections.setData(appData);
    }

  });
</script>
