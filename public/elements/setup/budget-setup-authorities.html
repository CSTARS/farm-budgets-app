<link rel="import" href="budget-setup-authority-editor.html" />

<dom-module id="budget-setup-authorities">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <div id="select">
      <template is="dom-repeat" items="{{authorities}}">
        <div class="panel panel-default">
          <div class="panel-body"><a class="btn btn-link"><i class="fa fa-pencil"></i></a> <span>{{item}}</span></div>
        </div>
      </template>
    </div>

    <budget-setup-authority-editor id="editor"></budget-setup-authority-editor>

  </template>
  <script>
    Polymer({
      is: 'budget-setup-authorities',

      ready : function() {
        this.authorities = [];
      },

      set : function() {
        this.authorities = ExpressAuth.user.authorities;
      },

      onShow : function(params) {
        this.set();

        if( params.length == 0 ) {
          this.$.select.style.display = 'block';
          this.$.editor.style.display = 'none';
        } else {
          this.$.select.style.display = 'none';
          this.$.editor.style.display = 'block';
          this.$.editor.authority = params[0];
        }
      }
    });
  </script>
</dom-module>
