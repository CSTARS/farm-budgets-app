<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Budget Component Testing</title>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory

  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript">
      // Load the Visualization API and the piechart package.
      google.load('visualization', '1.0', {'packages':['corechart']});
  </script> -->

  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="bower_components/bootswatch-dist/css/bootstrap.css">
  <link rel="stylesheet" href="bower_components/animate-css/animate.css">
  <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.css">
  <link rel="stylesheet" href="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.css">
  <!-- endbuild-->

  <!-- build:js scripts/platform.js -->
  <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <!-- endbuild-->

  <!-- build:js scripts/app.js -->
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/bootswatch-dist/js/bootstrap.js"></script>
  <script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.js"></script>
  <script src="js/lib.js"></script>
  <!-- endbuild-->

  <link rel="import" href="bower_components/polymer/polymer.html">
  <link rel="import" href="elements/layout.html">
  <link rel="import" href="elements/budget-components/budget-macro.html">
  <link rel="import" href="elements/budget-components/budget-complex-material-popup.html">
  <link rel="import" href="elements/budget-components/budget-unit-selector.html">
  <link rel="import" href="elements/budget-components/budget-operation.html">
  <link rel="import" href="elements/budget-components/budget-material.html">


</head>

<body style="padding:10px">

  <div id="root"></div>
  <budget-complex-material-popup></budget-complex-material-popup>

  <script>
    var testOperations = [
      {
        name : 'Operation 1',
        interval : {
          type : '',
          dates : []
        },
        materials : {
          foo : {
            amount : 2,
          },
          'complex 1' : {
            amount : 2,
          },
          'super cool thing' : {
            amount : 2,
          }
        }
      }
    ];

    var testMaterials = [
      {
        name : 'foo',
        price : 12.34,
        units : 'gal'
      },
      {
        name : 'bar',
        price : 5,
        units : 'ac'
      },
      {
        name : 'baz',
        price : 6.75,
        units : 'gal'
      },
      {
        name : 'seeds',
        price : 65,
        units : 'lb'
      },
      {
        name : 'complex1',
        type : 'complex',
        units : 'ac',
        materials : {
          foo : {
            amount : 3
          },
          bar : {
            amount : 4
          }
        }
      },
      {
        name : 'complex2',
        type : 'complex',
        units : 'lb',
        materials : {
          complex1 : {
            amount : 1
          },
          bar: {
            amount : 5.4
          },
          baz : {
            amount : 23
          }
       }
      },
      {
        name : 'super cool thing',
        type : 'complex',
        units : 'ac',
        materials : {
          complex2 : {
            amount : 2
          },
          bar : {
            amount : 2.3,
            units : 'ft' // convert to feet
          },
          seeds : {
            amount : 4
          }
        }
      }
    ];

    var options = {
      noEvent : true
    }

    var root = document.querySelector('#root');

    testMaterials.forEach(function(material){
      FB.materialController.add(material, options);

      if( material.type == 'complex' ) {
        var ele = document.createElement('budget-macro');
        ele.data = material;
        var div = document.createElement('div');
        div.appendChild(ele);
        root.appendChild(div);
      }
    });

    testOperations.forEach(function(operation){
      FB.operationController.add(operation, options);

      var ele = document.createElement('budget-operation');
      ele.operation = operation;
      var div = document.createElement('div');
      div.appendChild(ele);
      root.appendChild(div);
    });


  </script>
</body>
</html>
